<div class="item-list-container">
  <nav class="navbar">
    <div class="navbar-logo">
      <span class="logo-text">
        <span class="bold">Item</span>
        <span class="green">Manager</span>
      </span>
    </div>

    <button
      class="mobile-menu-btn"
      (click)="toggleMobileMenu()"
      aria-label="Toggle menu"
    >
      <fa-icon [icon]="faBars"></fa-icon>
    </button>

    <div class="navbar-actions" [class.open]="mobileMenuOpen">
      <button
        mat-mini-fab
        color="primary"
        (click)="createItem()"
        class="add-button"
        aria-label="Adicionar novo item"
      >
        <fa-icon [icon]="faPlus"></fa-icon>
      </button>

      <button
        mat-mini-fab
        color="warn"
        (click)="logout()"
        class="logout-btn"
        aria-label="Sair"
      >
        <mat-icon>exit_to_app</mat-icon>
      </button>
    </div>
  </nav>

  <div *ngIf="items.length === 0" class="empty-state">
    <mat-icon>inventory_2</mat-icon>
    <h2>Nenhum item encontrado</h2>
    <p>Clique no bot√£o + para adicionar seu primeiro item</p>
  </div>

  <mat-grid-list
    [cols]="getGridCols()"
    rowHeight="1:1"
    gutterSize="16px"
    *ngIf="items.length > 0"
  >
    <mat-grid-tile *ngFor="let item of items">
      <mat-card class="item-card">
        <div class="item-image-container">
          <img
            *ngIf="item.imageUrl"
            [src]="item.imageUrl"
            alt="{{ item.name }}"
            class="item-image"
          />
          <div *ngIf="!item.imageUrl" class="no-image">
            <mat-icon>image</mat-icon>
          </div>
        </div>
        <mat-card-content>
          <h2>{{ item.name }}</h2>
          <p class="description">
            {{ item.description | slice : 0 : 100
            }}{{ item.description.length > 100 ? "..." : "" }}
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button
            mat-icon-button
            color="primary"
            (click)="viewItem(item.id)"
            aria-label="Ver detalhes"
          >
            <fa-icon [icon]="faEye"></fa-icon>
          </button>
          <button
            mat-icon-button
            color="accent"
            (click)="editItem(item.id)"
            aria-label="Editar item"
          >
            <fa-icon [icon]="faEdit"></fa-icon>
          </button>
          <button
            mat-icon-button
            color="warn"
            (click)="deleteItem(item.id)"
            aria-label="Excluir item"
          >
            <fa-icon [icon]="faTrash"></fa-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
